using sysbus
mach create "Processing Module"

machine LoadPlatformDescriptionFromString """
using "platforms/cpus/polarfire-soc.repl"

envmData:
    size: 0x40000
"""

showAnalyzer mmuart0
showAnalyzer mmuart1

machine SdCardFromFile $base_url/polarfire/emmc.img mmc 0x100000000

macro reset
"""
    sysbus LoadELF $base_url/polarfire/hss.elf
    sysbus LoadBinary $base_url/polarfire/fitImage.fit 0x88300000
"""
runMacro $reset
